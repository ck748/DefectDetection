{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'ValidCode',\n  data() {\n    return {\n      length: 4,\n      codeList: []\n    };\n  },\n  mounted() {\n    this.createdCode();\n  },\n  methods: {\n    refreshCode() {\n      // 添加点击动画效果\n      this.$el.style.transform = 'scale(0.95)';\n      setTimeout(() => {\n        this.$el.style.transform = 'scale(1)';\n        this.createdCode();\n      }, 150);\n    },\n    createdCode() {\n      let len = this.length,\n        codeList = [],\n        chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz23456789',\n        charsLen = chars.length;\n\n      // 生成验证码字符和样式\n      for (let i = 0; i < len; i++) {\n        let rgb = [Math.round(Math.random() * 100 + 80), Math.round(Math.random() * 100 + 80), Math.round(Math.random() * 100 + 80)];\n        codeList.push({\n          code: chars.charAt(Math.floor(Math.random() * charsLen)),\n          color: `rgb(${rgb})`,\n          fontSize: `${Math.floor(Math.random() * 6) + 22}px`,\n          padding: `${Math.floor(Math.random() * 6)}px ${Math.floor(Math.random() * 3)}px`,\n          transform: `rotate(${Math.floor(Math.random() * 30) - 15}deg)`,\n          fontWeight: Math.random() > 0.5 ? '600' : '400',\n          textShadow: `1px 1px 3px rgba(${rgb.map(c => c - 60).join(',')}, 0.4)`,\n          margin: `0 ${Math.floor(Math.random() * 4)}px`\n        });\n      }\n      this.codeList = codeList;\n      this.$emit('update:value', codeList.map(item => item.code).join(''));\n    },\n    getStyle(data) {\n      return `\n        color: ${data.color};\n        font-size: ${data.fontSize};\n        padding: ${data.padding};\n        transform: ${data.transform};\n        font-weight: ${data.fontWeight};\n        text-shadow: ${data.textShadow};\n        margin: ${data.margin};\n      `;\n    }\n  }\n};","map":{"version":3,"names":["name","data","length","codeList","mounted","createdCode","methods","refreshCode","$el","style","transform","setTimeout","len","chars","charsLen","i","rgb","Math","round","random","push","code","charAt","floor","color","fontSize","padding","fontWeight","textShadow","map","c","join","margin","$emit","item","getStyle"],"sources":["src/components/ValidCode.vue"],"sourcesContent":["<template>\n  <div class=\"valid-code-container\" @click=\"refreshCode\">\n    <div class=\"valid-code-wrapper\">\n      <span \n        v-for=\"(item, index) in codeList\" \n        :key=\"index\" \n        class=\"code-char\"\n        :style=\"getStyle(item)\"\n      >\n        {{ item.code }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ValidCode',\n  data () {\n    return {\n      length: 4,\n      codeList: []\n    }\n  },\n  mounted () {\n    this.createdCode()\n  },\n  methods: {\n    refreshCode () {\n      // 添加点击动画效果\n      this.$el.style.transform = 'scale(0.95)'\n      setTimeout(() => {\n        this.$el.style.transform = 'scale(1)'\n        this.createdCode()\n      }, 150)\n    },\n    createdCode () {\n      let len = this.length,\n          codeList = [],\n          chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz23456789',\n          charsLen = chars.length\n      \n      // 生成验证码字符和样式\n      for (let i = 0; i < len; i++) {\n        let rgb = [\n          Math.round(Math.random() * 100 + 80),\n          Math.round(Math.random() * 100 + 80),\n          Math.round(Math.random() * 100 + 80)\n        ]\n        \n        codeList.push({\n          code: chars.charAt(Math.floor(Math.random() * charsLen)),\n          color: `rgb(${rgb})`,\n          fontSize: `${Math.floor(Math.random() * 6) + 22}px`,\n          padding: `${Math.floor(Math.random() * 6)}px ${Math.floor(Math.random() * 3)}px`,\n          transform: `rotate(${Math.floor(Math.random() * 30) - 15}deg)`,\n          fontWeight: Math.random() > 0.5 ? '600' : '400',\n          textShadow: `1px 1px 3px rgba(${rgb.map(c => c - 60).join(',')}, 0.4)`,\n          margin: `0 ${Math.floor(Math.random() * 4)}px`\n        })\n      }\n      \n      this.codeList = codeList\n      this.$emit('update:value', codeList.map(item => item.code).join(''))\n    },\n    getStyle (data) {\n      return `\n        color: ${data.color};\n        font-size: ${data.fontSize};\n        padding: ${data.padding};\n        transform: ${data.transform};\n        font-weight: ${data.fontWeight};\n        text-shadow: ${data.textShadow};\n        margin: ${data.margin};\n      `\n    }\n  }\n}\n</script>\n\n<style scoped>\n.valid-code-container {\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(145deg, #f8fafc 0%, #e2e8f0 100%);\n  border-radius: 16px;\n  border: 2px solid #e2e8f0;\n  cursor: pointer;\n  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  position: relative;\n  overflow: hidden;\n  box-shadow: \n    0 8px 32px rgba(0, 0, 0, 0.08),\n    inset 0 1px 0 rgba(255, 255, 255, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.valid-code-container:hover {\n  border-color: #3b82f6;\n  box-shadow: \n    0 12px 40px rgba(59, 130, 246, 0.15),\n    inset 0 1px 0 rgba(255, 255, 255, 0.8);\n  transform: translateY(-3px);\n}\n\n.valid-code-container:active {\n  transform: scale(0.97);\n}\n\n.valid-code-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  z-index: 2;\n  padding: 20px;\n}\n\n.code-char {\n  display: inline-block;\n  font-family: 'Segoe UI', 'Arial', 'Microsoft YaHei', sans-serif;\n  transition: all 0.3s ease;\n  position: relative;\n  user-select: none;\n  animation: charAppear 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.code-char:hover {\n  transform: scale(1.15) !important;\n  z-index: 3;\n}\n\n/* 背景干扰元素 */\n.valid-code-container::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: \n    radial-gradient(circle at 15% 25%, rgba(99, 102, 241, 0.03) 0%, transparent 50%),\n    radial-gradient(circle at 85% 75%, rgba(236, 72, 153, 0.03) 0%, transparent 50%),\n    radial-gradient(circle at 50% 50%, rgba(139, 92, 246, 0.02) 0%, transparent 50%);\n  z-index: 1;\n  opacity: 0.6;\n}\n\n.valid-code-container::after {\n  content: '';\n  position: absolute;\n  top: -50%;\n  left: -50%;\n  width: 200%;\n  height: 200%;\n  background: \n    linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.1) 50%, transparent 60%),\n    linear-gradient(-45deg, transparent 40%, rgba(255, 255, 255, 0.05) 50%, transparent 60%);\n  animation: shimmer 8s infinite linear;\n  z-index: 1;\n}\n\n/* 禁用文本选择 */\n.valid-code-container {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* 动画 */\n@keyframes charAppear {\n  0% {\n    opacity: 0;\n    transform: translateY(15px) rotate(-8deg) scale(0.8);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(-2px) rotate(2deg) scale(1.05);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0) rotate(var(--rotation)) scale(1);\n  }\n}\n\n@keyframes shimmer {\n  0% {\n    transform: translateX(-100%) translateY(-100%) rotate(0deg);\n  }\n  100% {\n    transform: translateX(100%) translateY(100%) rotate(360deg);\n  }\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .valid-code-container {\n    border-radius: 12px;\n  }\n  \n  .valid-code-wrapper {\n    padding: 15px;\n  }\n}\n\n/* 加载状态 */\n.valid-code-container.loading .code-char {\n  animation: pulse 1s infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 0.5;\n    transform: scale(0.95);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(1.05);\n  }\n}\n</style>"],"mappings":";AAgBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAC,YAAA;MACA;MACA,KAAAC,GAAA,CAAAC,KAAA,CAAAC,SAAA;MACAC,UAAA;QACA,KAAAH,GAAA,CAAAC,KAAA,CAAAC,SAAA;QACA,KAAAL,WAAA;MACA;IACA;IACAA,YAAA;MACA,IAAAO,GAAA,QAAAV,MAAA;QACAC,QAAA;QACAU,KAAA;QACAC,QAAA,GAAAD,KAAA,CAAAX,MAAA;;MAEA;MACA,SAAAa,CAAA,MAAAA,CAAA,GAAAH,GAAA,EAAAG,CAAA;QACA,IAAAC,GAAA,IACAC,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA,gBACAF,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA,gBACAF,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA,eACA;QAEAhB,QAAA,CAAAiB,IAAA;UACAC,IAAA,EAAAR,KAAA,CAAAS,MAAA,CAAAL,IAAA,CAAAM,KAAA,CAAAN,IAAA,CAAAE,MAAA,KAAAL,QAAA;UACAU,KAAA,SAAAR,GAAA;UACAS,QAAA,KAAAR,IAAA,CAAAM,KAAA,CAAAN,IAAA,CAAAE,MAAA;UACAO,OAAA,KAAAT,IAAA,CAAAM,KAAA,CAAAN,IAAA,CAAAE,MAAA,aAAAF,IAAA,CAAAM,KAAA,CAAAN,IAAA,CAAAE,MAAA;UACAT,SAAA,YAAAO,IAAA,CAAAM,KAAA,CAAAN,IAAA,CAAAE,MAAA;UACAQ,UAAA,EAAAV,IAAA,CAAAE,MAAA;UACAS,UAAA,sBAAAZ,GAAA,CAAAa,GAAA,CAAAC,CAAA,IAAAA,CAAA,OAAAC,IAAA;UACAC,MAAA,OAAAf,IAAA,CAAAM,KAAA,CAAAN,IAAA,CAAAE,MAAA;QACA;MACA;MAEA,KAAAhB,QAAA,GAAAA,QAAA;MACA,KAAA8B,KAAA,iBAAA9B,QAAA,CAAA0B,GAAA,CAAAK,IAAA,IAAAA,IAAA,CAAAb,IAAA,EAAAU,IAAA;IACA;IACAI,SAAAlC,IAAA;MACA;AACA,iBAAAA,IAAA,CAAAuB,KAAA;AACA,qBAAAvB,IAAA,CAAAwB,QAAA;AACA,mBAAAxB,IAAA,CAAAyB,OAAA;AACA,qBAAAzB,IAAA,CAAAS,SAAA;AACA,uBAAAT,IAAA,CAAA0B,UAAA;AACA,uBAAA1B,IAAA,CAAA2B,UAAA;AACA,kBAAA3B,IAAA,CAAA+B,MAAA;AACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}