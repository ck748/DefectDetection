{"ast":null,"code":"import axios from \"axios\";\nimport dayjs from 'dayjs';\nexport default {\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('useradmin1') || '{}'),\n      page: 1,\n      pageSize: 10,\n      total: 0,\n      loading: false,\n      showAddDialog: false,\n      addForm: {\n        name: null,\n        jobId: null,\n        loginPwd: null,\n        opPwd: null,\n        showLoginPwd: false,\n        showOpPwd: false,\n        createTime: new Date(),\n        remark: null,\n        createName: null\n      },\n      loginkeyword: null,\n      keyword: null,\n      operators: [],\n      selectedOperators: [],\n      editForm: {\n        id: null,\n        name: null,\n        jobId: null,\n        loginPwd: null,\n        opPwd: null,\n        showLoginPwd: false,\n        showOpPwd: false,\n        createTime: new Date(),\n        remark: null,\n        createName: null\n      },\n      showEditDialog: false,\n      mainid: 0,\n      rules: {\n        loginkeyword: [{\n          required: true,\n          message: '请输入修改的操作密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 6,\n          message: '操作密码固定长度为6',\n          trigger: 'blur'\n        }]\n      },\n      editFormRules: {\n        name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }],\n        jobId: [{\n          required: true,\n          message: '请输入工号',\n          trigger: 'blur'\n        }, {\n          pattern: /^\\d{1,5}$/,\n          message: '工号格式不正确，长度不超过5位数字',\n          trigger: 'blur'\n        }],\n        loginPwd: [{\n          required: true,\n          message: '请输入登入密码',\n          trigger: 'blur'\n        }],\n        opPwd: [{\n          required: true,\n          message: '请输入操作密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 6,\n          message: '操作密码固定长度为6',\n          trigger: 'blur'\n        }],\n        createTime: [{\n          required: true,\n          message: '请选择入职时间',\n          trigger: 'change'\n        }],\n        remark: [{\n          max: 255,\n          message: '备注最长255个字符',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  mounted() {\n    this.fetchOperator();\n  },\n  computed: {\n    filteroperators() {\n      if (!this.keyword) {\n        return this.operators;\n      } else {\n        let keyword1 = this.keyword.toString().toLowerCase();\n        return this.operators.filter(operator => {\n          return operator.name && typeof operator.name === 'string' && operator.name.toLowerCase().includes(keyword1) || operator.jobId && operator.jobId.toString().toLowerCase().includes(keyword1);\n        });\n      }\n    }\n  },\n  methods: {\n    // 格式化日期显示\n    formatDate(date) {\n      if (!date) return '';\n      // 如果日期包含时间部分，只显示日期部分\n      if (date.includes(' ')) {\n        return date.split(' ')[0];\n      }\n      return date;\n    },\n    handleSelectionChange(selection) {\n      this.selectedOperators = selection;\n    },\n    makeLoginPwd() {\n      if (!this.loginkeyword || this.loginkeyword.length !== 6) {\n        this.$message.warning('请输入6位登入密码');\n        return;\n      }\n      this.$confirm('确定要进行批量设置吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.loading = true;\n        const loginPwd = this.loginkeyword;\n        axios.put('api/sysManage/key/batchPwd', null, {\n          params: {\n            loginPwd: loginPwd,\n            page: this.page,\n            pageSize: this.pageSize\n          }\n        }).then(response => {\n          this.loading = false;\n          if (response.data.code === 200) {\n            this.$message.success(\"设置成功\");\n            this.fetchOperator();\n          } else {\n            this.$message.error(\"设置失败\");\n          }\n        }).catch(error => {\n          this.loading = false;\n          this.$message.error(\"设置失败\");\n        });\n      }).catch(() => {\n        this.$message.info(\"取消设置\");\n      });\n    },\n    AddMore() {\n      this.showAddDialog = true;\n      this.addForm = {\n        name: null,\n        jobId: null,\n        loginPwd: null,\n        opPwd: null,\n        showLoginPwd: false,\n        showOpPwd: false,\n        createTime: new Date(),\n        remark: null,\n        createName: null\n      };\n    },\n    AddMoreTo() {\n      this.$refs.addForm.validate(valid => {\n        if (valid) {\n          let createTime = this.addForm.createTime;\n          if (createTime && createTime.length === 10) {\n            this.addForm.createTime = createTime + \" 00:00:00\";\n          }\n          axios.post('api/sysManage/key/add', this.addForm).then(response => {\n            if (response.data.code === 200) {\n              this.$message.success(\"添加成功\");\n              this.showAddDialog = false;\n              this.fetchOperator();\n            } else {\n              this.$message.error(response.data.message);\n            }\n          }).catch(error => {\n            console.error(error);\n            this.$message.error(\"添加数据失败\");\n          });\n        }\n      });\n    },\n    search() {\n      this.keyword = this.keyword ? this.keyword.trim() : '';\n    },\n    fetchOperator() {\n      this.loading = true;\n      axios.get(\"api/sysManage/key/info\", {\n        params: {\n          page: this.page,\n          pageSize: this.pageSize\n        }\n      }).then(response => {\n        this.loading = false;\n        if (response.data.code === 200) {\n          this.total = response.data.data[0].totals;\n          this.operators = response.data.data;\n          this.operators.forEach(operator => {\n            operator.showLoginPwd = false;\n            operator.showOpPwd = false;\n          });\n        }\n      }).catch(error => {\n        this.loading = false;\n        console.error(error);\n        this.$message.error(\"获取数据失败\");\n      });\n    },\n    editOperator(row) {\n      this.editForm = {\n        ...row\n      };\n      this.mainid = row.id;\n      this.showEditDialog = true;\n    },\n    saveEdit() {\n      this.$refs.editForm.validate(valid => {\n        if (valid) {\n          let createTime = this.editForm.createTime;\n          if (createTime && createTime.length === 10) {\n            this.editForm.createTime = createTime + \" 00:00:00\";\n          }\n          axios.put(\"api/sysManage/key/update\", this.editForm, {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(response => {\n            if (response.data.code === 200) {\n              this.$message.success(\"修改成功\");\n              this.showEditDialog = false;\n              this.fetchOperator();\n            } else {\n              this.$message.error(\"编辑失败\");\n            }\n          }).catch(error => {\n            console.error('错误信息为', error);\n            this.$message.error(\"编辑失败\");\n          });\n        }\n      });\n    },\n    closeEditDialog() {\n      this.showEditDialog = false;\n    },\n    deleteOperator(row) {\n      this.$confirm('确定要删除该操作员吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const id = row.id;\n        axios.delete('api/sysManage/key/delete', {\n          data: [id]\n        }).then(response => {\n          if (response.data.code === 200) {\n            this.$message.success(\"删除成功\");\n            this.fetchOperator();\n          } else {\n            this.$message.error(\"删除失败\");\n          }\n        }).catch(error => {\n          console.log(error);\n          this.$message.error(\"删除失败\");\n        });\n      }).catch(() => {\n        this.$message.info(\"取消删除\");\n      });\n    },\n    deleteMore() {\n      if (this.selectedOperators.length === 0) {\n        this.$message.warning(\"请先勾选要删除的数据\");\n        return;\n      }\n      this.$confirm(\"确认删除选中的操作员吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.loading = true;\n        const selectedIds = this.selectedOperators.map(operator => operator.id);\n        axios.delete('api/sysManage/key/delete', {\n          data: selectedIds\n        }).then(response => {\n          this.loading = false;\n          if (response.data.code === 200) {\n            this.$message.success(\"批量删除成功\");\n            this.fetchOperator();\n            this.selectedOperators = [];\n          } else {\n            this.$message.error(response.data.message);\n          }\n        }).catch(error => {\n          this.loading = false;\n          this.$message.error(\"批量删除失败\");\n        });\n      }).catch(() => {\n        this.$message.info(\"取消删除\");\n      });\n    },\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.fetchOperator();\n    },\n    handleCurrentChange(val) {\n      this.page = val;\n      this.fetchOperator();\n    }\n  }\n};","map":{"version":3,"names":["axios","dayjs","data","user","JSON","parse","localStorage","getItem","page","pageSize","total","loading","showAddDialog","addForm","name","jobId","loginPwd","opPwd","showLoginPwd","showOpPwd","createTime","Date","remark","createName","loginkeyword","keyword","operators","selectedOperators","editForm","id","showEditDialog","mainid","rules","required","message","trigger","min","max","editFormRules","pattern","mounted","fetchOperator","computed","filteroperators","keyword1","toString","toLowerCase","filter","operator","includes","methods","formatDate","date","split","handleSelectionChange","selection","makeLoginPwd","length","$message","warning","$confirm","confirmButtonText","cancelButtonText","type","then","put","params","response","code","success","error","catch","info","AddMore","AddMoreTo","$refs","validate","valid","post","console","search","trim","get","totals","forEach","editOperator","row","saveEdit","headers","closeEditDialog","deleteOperator","delete","log","deleteMore","selectedIds","map","handleSizeChange","val","handleCurrentChange"],"sources":["src/components/pwdmanager.vue"],"sourcesContent":["<template>\n  <div class=\"operator-management\">\n    <!-- 面包屑导航 -->\n    <div class=\"breadcrumb\">\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item :to=\"{ path: '/' }\">主页</el-breadcrumb-item>\n        <el-breadcrumb-item>操作秘钥管理</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n\n    <!-- 操作栏 -->\n    <div class=\"operation-bar\">\n      <div class=\"operation-left\">\n        <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"AddMore\">添加</el-button>\n        <el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"deleteMore\">批量删除</el-button>\n      </div>\n      \n      <div class=\"operation-right\">\n        <div class=\"batch-set\">\n          <el-input \n            maxlength=\"6\" \n            show-word-limit \n            ref=\"loginkeyword\" \n            prop=\"loginkeyword\" \n            :rules=\"rules\" \n            v-model=\"loginkeyword\" \n            placeholder=\"批量设置登入密码(6位)\" \n            style=\"width: 200px;\"\n          ></el-input>\n          <el-button type=\"success\" icon=\"el-icon-setting\" @click=\"makeLoginPwd\">设置</el-button>\n        </div>\n        \n        <el-input \n          v-model=\"keyword\" \n          placeholder=\"输入姓名或工号进行搜索\" \n          style=\"width: 200px;\"\n          @input=\"search\" \n          prefix-icon=\"el-icon-search\"\n          clearable\n        ></el-input>\n      </div>\n    </div>\n\n    <!-- 表格区域 -->\n    <div class=\"table-container\">\n      <el-card>\n        <el-table \n          ref=\"list\" \n          :data=\"filteroperators\" \n          style=\"width: 100%\"\n          stripe\n          v-loading=\"loading\"\n          @selection-change=\"handleSelectionChange\"\n          :border=\"false\"\n        >\n          <el-table-column type=\"selection\" width=\"50\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"name\" label=\"姓名\" width=\"120\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"jobId\" label=\"工号\" width=\"120\" align=\"center\"></el-table-column>\n          <el-table-column label=\"登入密码\" width=\"150\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <div class=\"password-input\">\n                <el-input \n                  show-password \n                  v-model=\"scope.row.loginPwd\" \n                  size=\"small\"\n                ></el-input>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作密码\" width=\"150\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <div class=\"password-input\">\n                <el-input \n                  show-password \n                  v-model=\"scope.row.opPwd\" \n                  size=\"small\"\n                ></el-input>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"entryTime\" label=\"入职时间\" width=\"160\" align=\"center\">\n            <template slot-scope=\"scope\">\n              {{ formatDate(scope.row.entryTime) }}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"remark\" label=\"备注\" width=\"200\" align=\"left\" show-overflow-tooltip></el-table-column>\n          <el-table-column label=\"操作\" width=\"180\" align=\"center\" fixed=\"right\">\n            <template slot-scope=\"scope\">\n              <div class=\"action-buttons\">\n                <el-button \n                  @click=\"editOperator(scope.row)\" \n                  type=\"primary\" \n                  size=\"mini\" \n                  icon=\"el-icon-edit\"\n                  class=\"edit-btn\"\n                >编辑</el-button>\n                <el-button \n                  @click=\"deleteOperator(scope.row)\" \n                  type=\"danger\" \n                  size=\"mini\" \n                  icon=\"el-icon-delete\"\n                  class=\"delete-btn\"\n                >删除</el-button>\n              </div>\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <!-- 分页 -->\n        <div class=\"pagination-container\">\n          <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"page\"\n            :page-sizes=\"[10, 20, 30, 50]\"\n            :page-size=\"pageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"total\"\n            background\n          ></el-pagination>\n        </div>\n      </el-card>\n    </div>\n\n    <!-- 编辑对话框 -->\n    <el-dialog \n      :visible.sync=\"showEditDialog\" \n      title=\"编辑操作人员信息\"\n      width=\"600px\"\n      center\n    >\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" label-width=\"100px\" ref=\"editForm\">\n        <el-form-item label=\"姓名\" prop=\"name\">\n          <el-input v-model=\"editForm.name\" placeholder=\"请输入姓名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"工号\" prop=\"jobId\">\n          <el-input v-model=\"editForm.jobId\" placeholder=\"请输入工号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"登入密码\" prop=\"loginPwd\">\n          <el-input v-model=\"editForm.loginPwd\" show-password placeholder=\"请输入登入密码\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"操作密码\" prop=\"opPwd\">\n          <el-input v-model=\"editForm.opPwd\" show-password placeholder=\"请输入操作密码\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"入职时间\" prop=\"createTime\">\n          <el-date-picker\n            v-model=\"editForm.createTime\"\n            type=\"date\"\n            placeholder=\"选择入职时间\"\n            value-format=\"yyyy-MM-dd\"\n            style=\"width: 100%\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remark\">\n          <el-input \n            v-model=\"editForm.remark\" \n            type=\"textarea\" \n            :rows=\"3\" \n            placeholder=\"请输入备注信息\"\n            maxlength=\"255\"\n            show-word-limit\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeEditDialog\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 添加对话框 -->\n    <el-dialog \n      :visible.sync=\"showAddDialog\"  \n      title=\"操作人员信息添加\"\n      width=\"600px\"\n      center\n    >\n      <el-form :rules=\"editFormRules\" :model=\"addForm\" label-width=\"100px\" ref=\"addForm\">\n        <el-form-item label=\"姓名\" prop=\"name\">\n          <el-input v-model=\"addForm.name\" placeholder=\"请输入姓名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"工号\" prop=\"jobId\">\n          <el-input v-model=\"addForm.jobId\" placeholder=\"请输入工号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"登入密码\" prop=\"loginPwd\">\n          <el-input v-model=\"addForm.loginPwd\" show-password placeholder=\"请输入登入密码\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"操作密码\" prop=\"opPwd\">\n          <el-input v-model=\"addForm.opPwd\" show-password placeholder=\"请输入操作密码\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"入职时间\" prop=\"createTime\">\n          <el-date-picker\n            v-model=\"addForm.createTime\"\n            type=\"date\"\n            placeholder=\"选择入职时间\"\n            value-format=\"yyyy-MM-dd\"\n            style=\"width: 100%\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remark\">\n          <el-input \n            v-model=\"addForm.remark\" \n            type=\"textarea\" \n            :rows=\"3\" \n            placeholder=\"请输入备注信息\"\n            maxlength=\"255\"\n            show-word-limit\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"showAddDialog = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"AddMoreTo\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport dayjs from 'dayjs';\n\nexport default {\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('useradmin1') || '{}'),\n      page: 1,\n      pageSize: 10,\n      total: 0,\n      loading: false,\n      showAddDialog: false,\n      addForm: {\n        name: null,\n        jobId: null,\n        loginPwd: null,\n        opPwd: null,\n        showLoginPwd: false,\n        showOpPwd: false,\n        createTime: new Date(),\n        remark: null,\n        createName: null\n      },\n      loginkeyword: null,\n      keyword: null,\n      operators: [],\n      selectedOperators: [],\n      editForm: {\n        id: null,\n        name: null,\n        jobId: null,\n        loginPwd: null,\n        opPwd: null,\n        showLoginPwd: false,\n        showOpPwd: false,\n        createTime: new Date(),\n        remark: null,\n        createName: null\n      },\n      showEditDialog: false,\n      mainid: 0,\n      rules: {\n        loginkeyword: [\n          { required: true, message: '请输入修改的操作密码', trigger: 'blur' },\n          { min: 6, max: 6, message: '操作密码固定长度为6', trigger: 'blur' }\n        ]\n      },\n      editFormRules: {\n        name: [{ required: true, message: '请输入姓名', trigger: 'blur' }],\n        jobId: [\n          { required: true, message: '请输入工号', trigger: 'blur' },\n          { pattern: /^\\d{1,5}$/, message: '工号格式不正确，长度不超过5位数字', trigger: 'blur' }\n        ],\n        loginPwd: [\n          { required: true, message: '请输入登入密码', trigger: 'blur' }\n        ],\n        opPwd: [\n          { required: true, message: '请输入操作密码', trigger: 'blur' },\n          { min: 6, max: 6, message: '操作密码固定长度为6', trigger: 'blur' }\n        ],\n        createTime: [{ required: true, message: '请选择入职时间', trigger: 'change' }],\n        remark: [\n          { max: 255, message: '备注最长255个字符', trigger: 'blur' }\n        ]\n      }\n    };\n  },\n  mounted() {\n    this.fetchOperator();\n  },\n  computed: {\n    filteroperators() {\n      if (!this.keyword) {\n        return this.operators;\n      } else {\n        let keyword1 = this.keyword.toString().toLowerCase();\n        return this.operators.filter(operator => {\n          return (\n            (operator.name && typeof operator.name === 'string' && operator.name.toLowerCase().includes(keyword1)) ||\n            (operator.jobId && operator.jobId.toString().toLowerCase().includes(keyword1))\n          );\n        });\n      }\n    }\n  },\n  methods: {\n    // 格式化日期显示\n    formatDate(date) {\n      if (!date) return '';\n      // 如果日期包含时间部分，只显示日期部分\n      if (date.includes(' ')) {\n        return date.split(' ')[0];\n      }\n      return date;\n    },\n    \n    handleSelectionChange(selection) {\n      this.selectedOperators = selection;\n    },\n    \n    makeLoginPwd() {\n      if (!this.loginkeyword || this.loginkeyword.length !== 6) {\n        this.$message.warning('请输入6位登入密码');\n        return;\n      }\n\n      this.$confirm('确定要进行批量设置吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.loading = true;\n        const loginPwd = this.loginkeyword;\n        axios.put('api/sysManage/key/batchPwd', null, {\n          params: {\n            loginPwd: loginPwd,\n            page: this.page,\n            pageSize: this.pageSize\n          }\n        })\n        .then(response => {\n          this.loading = false;\n          if (response.data.code === 200) {\n            this.$message.success(\"设置成功\");\n            this.fetchOperator();\n          } else {\n            this.$message.error(\"设置失败\");\n          }\n        })\n        .catch(error => {\n          this.loading = false;\n          this.$message.error(\"设置失败\");\n        });\n      }).catch(() => {\n        this.$message.info(\"取消设置\");\n      });\n    },\n    \n    AddMore() {\n      this.showAddDialog = true;\n      this.addForm = {\n        name: null,\n        jobId: null,\n        loginPwd: null,\n        opPwd: null,\n        showLoginPwd: false,\n        showOpPwd: false,\n        createTime: new Date(),\n        remark: null,\n        createName: null\n      };\n    },\n    \n    AddMoreTo() {\n      this.$refs.addForm.validate((valid) => {\n        if (valid) {\n          let createTime = this.addForm.createTime;\n          if (createTime && createTime.length === 10) {\n            this.addForm.createTime = createTime + \" 00:00:00\";\n          }\n\n          axios.post('api/sysManage/key/add', this.addForm)\n          .then(response => {\n            if (response.data.code === 200) {\n              this.$message.success(\"添加成功\");\n              this.showAddDialog = false;\n              this.fetchOperator();\n            } else {\n              this.$message.error(response.data.message);\n            }\n          })\n          .catch(error => {\n            console.error(error);\n            this.$message.error(\"添加数据失败\");\n          });\n        }\n      });\n    },\n    \n    search() {\n      this.keyword = this.keyword ? this.keyword.trim() : '';\n    },\n    \n    fetchOperator() {\n      this.loading = true;\n      axios.get(\"api/sysManage/key/info\", {\n        params: {\n          page: this.page,\n          pageSize: this.pageSize\n        }\n      })\n      .then(response => {\n        this.loading = false;\n        if (response.data.code === 200) {\n          this.total = response.data.data[0].totals;\n          this.operators = response.data.data;\n          this.operators.forEach(operator => {\n            operator.showLoginPwd = false;\n            operator.showOpPwd = false;\n          });\n        }\n      })\n      .catch(error => {\n        this.loading = false;\n        console.error(error);\n        this.$message.error(\"获取数据失败\");\n      });\n    },\n    \n    editOperator(row) {\n      this.editForm = { ...row };\n      this.mainid = row.id;\n      this.showEditDialog = true;\n    },\n    \n    saveEdit() {\n      this.$refs.editForm.validate((valid) => {\n        if (valid) {\n          let createTime = this.editForm.createTime;\n          if (createTime && createTime.length === 10) {\n            this.editForm.createTime = createTime + \" 00:00:00\";\n          }\n\n          axios.put(\"api/sysManage/key/update\", this.editForm, {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          })\n          .then(response => {\n            if (response.data.code === 200) {\n              this.$message.success(\"修改成功\");\n              this.showEditDialog = false;\n              this.fetchOperator();\n            } else {\n              this.$message.error(\"编辑失败\");\n            }\n          })\n          .catch(error => {\n            console.error('错误信息为', error);\n            this.$message.error(\"编辑失败\");\n          });\n        }\n      });\n    },\n    \n    closeEditDialog() {\n      this.showEditDialog = false;\n    },\n    \n    deleteOperator(row) {\n      this.$confirm('确定要删除该操作员吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const id = row.id;\n        axios.delete('api/sysManage/key/delete', {\n          data: [id]\n        })\n        .then(response => {\n          if (response.data.code === 200) {\n            this.$message.success(\"删除成功\");\n            this.fetchOperator();\n          } else {\n            this.$message.error(\"删除失败\");\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          this.$message.error(\"删除失败\");\n        });\n      }).catch(() => {\n        this.$message.info(\"取消删除\");\n      });\n    },\n    \n    deleteMore() {\n      if (this.selectedOperators.length === 0) {\n        this.$message.warning(\"请先勾选要删除的数据\");\n        return;\n      }\n\n      this.$confirm(\"确认删除选中的操作员吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.loading = true;\n        const selectedIds = this.selectedOperators.map(operator => operator.id);\n        axios.delete('api/sysManage/key/delete', { data: selectedIds })\n        .then(response => {\n          this.loading = false;\n          if (response.data.code === 200) {\n            this.$message.success(\"批量删除成功\");\n            this.fetchOperator();\n            this.selectedOperators = [];\n          } else {\n            this.$message.error(response.data.message);\n          }\n        }).catch(error => {\n          this.loading = false;\n          this.$message.error(\"批量删除失败\");\n        });\n      }).catch(() => {\n        this.$message.info(\"取消删除\");\n      });\n    },\n    \n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.fetchOperator();\n    },\n    \n    handleCurrentChange(val) {\n      this.page = val;\n      this.fetchOperator();\n    }\n  }\n};\n</script>\n\n<style scoped>\n.operator-management {\n  padding: 20px;\n  background-color: #f5f7fa;\n  min-height: calc(100vh - 60px);\n}\n\n.breadcrumb {\n  margin-bottom: 20px;\n  padding: 0 10px;\n}\n\n.operation-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 16px 20px;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.operation-left {\n  display: flex;\n  gap: 10px;\n}\n\n.operation-right {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.batch-set {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.table-container {\n  margin-bottom: 20px;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.password-input {\n  display: flex;\n  justify-content: center;\n}\n\n.action-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 8px;\n  align-items: center;\n}\n\n.edit-btn,\n.delete-btn {\n  margin: 0;\n  padding: 6px 12px;\n  font-size: 12px;\n  border-radius: 4px;\n  transition: all 0.3s ease;\n}\n\n.edit-btn:hover {\n  background-color: #409eff;\n  border-color: #409eff;\n  transform: translateY(-1px);\n}\n\n.delete-btn:hover {\n  background-color: #f56c6c;\n  border-color: #f56c6c;\n  transform: translateY(-1px);\n}\n\n/* 完全移除表格所有列之间的边框线 */\n::v-deep .el-table {\n  border: none;\n}\n\n::v-deep .el-table th,\n::v-deep .el-table td {\n  border-right: none !important;\n  border-bottom: 1px solid #ebeef5;\n}\n\n::v-deep .el-table--border {\n  border: none;\n}\n\n::v-deep .el-table--border th,\n::v-deep .el-table--border td {\n  border-right: none !important;\n}\n\n::v-deep .el-table th.gutter {\n  border-right: none !important;\n}\n\n::v-deep .el-table th {\n  background-color: #f8f9fa;\n  color: #606266;\n  font-weight: 600;\n  border-bottom: 2px solid #e8e8e8;\n}\n\n::v-deep .el-table .cell {\n  padding: 12px 8px;\n  border-right: none !important;\n}\n\n::v-deep .el-table--striped .el-table__body tr.el-table__row--striped td {\n  background-color: #fafafa;\n}\n\n::v-deep .el-table__body tr:hover > td {\n  background-color: #f5f7fa !important;\n}\n\n::v-deep .el-dialog__header {\n  background: linear-gradient(135deg, #f5f7fa 0%, #e4e7ed 100%);\n  padding: 20px;\n  border-bottom: 1px solid #e4e7ed;\n  border-radius: 8px 8px 0 0;\n}\n\n::v-deep .el-dialog__title {\n  color: #303133;\n  font-weight: 600;\n}\n\n::v-deep .el-form-item__label {\n  font-weight: 500;\n  color: #606266;\n}\n\n::v-deep .el-input__inner,\n::v-deep .el-textarea__inner {\n  border-radius: 4px;\n  border: 1px solid #dcdfe6;\n  transition: border-color 0.3s;\n}\n\n::v-deep .el-input__inner:focus,\n::v-deep .el-textarea__inner:focus {\n  border-color: #409eff;\n  box-shadow: 0 0 0 2px rgba(64, 158, 255, 0.2);\n}\n\n@media (max-width: 768px) {\n  .operation-bar {\n    flex-direction: column;\n    gap: 15px;\n    align-items: stretch;\n  }\n  \n  .operation-right {\n    flex-direction: column;\n    gap: 10px;\n  }\n  \n  .batch-set {\n    width: 100%;\n  }\n  \n  .batch-set .el-input {\n    flex: 1;\n  }\n  \n  .action-buttons {\n    flex-direction: column;\n    gap: 4px;\n  }\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}